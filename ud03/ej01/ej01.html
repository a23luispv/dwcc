<!DOCTYPE html>
<html>
    <head>
        <meta  http-equiv="content-type"  content="text/html;charset=utf-8">
        <title>Apertura y Cierre de Ventanas</title>
    <script>
        let ventanaEmergente;
        function abrirVentana() {
            //Pedir confirmación para abrir ventana
            if (window.confirm("[AVISO]: ¿Permitir abrir la ventana emergente?")) {
            //Abrir ventana
            ventanaEmergente = window.open('', '_blank', 'width=300,height=300,toolbar=no,menubar=no,top=400,left=400');
            
            if (ventanaEmergente) {
                const contenidoVentana = 
                `
                <h3>Exemplo de Ventá nova</h3>
                <p>URL: ${window.location.href}</p>
                <p>Protocolo: ${window.location.protocol}</p>
                <p>Navegador: ${getNavegador()}</p>
                <p>Java está dispoñible: ${comprobarJava()}</p>
                `
        
                //Añadimos el contenido a la ventana y acemos que se posicione en frente
                ventanaEmergente.document.write(contenidoVentana);
                ventanaEmergente.focus();
            } else {
                alert("[ERROR]: No se pudo abrir la ventana");
            }
            }
        }
        //////////
        //Cerrar ventana
        function cerrarVentana() {
        if (ventanaEmergente && !ventanaEmergente.closed) {
            ventanaEmergente.close();
        } else {
            alert("[ERROR]: La ventana no está abierta");
        }
        }

        //////////
        //Mover ventana moveBy
        function moverBy() {
        if (ventanaEmergente && !ventanaEmergente.closed) {
            ventanaEmergente.moveBy(50, 50);
            ventanaEmergente.focus();
        } else {
            alert("[ERROR]: La ventana no está abierta");
        }
        }
        //////////
        //Mover ventana moveTo 
        function moverTo() {
        if (ventanaEmergente && !ventanaEmergente.closed) {
            ventanaEmergente.moveTo(500, 500);
            ventanaEmergente.focus();
        } else {
            alert("[ERROR]: La ventana no está abierta");
        }
        }



        //////////
        //Redimensionar ventana
        function redimensionarVentana() {
            if (ventanaEmergente && !ventanaEmergente.closed) {
                ventanaEmergente.resizeTo(500, 500);
                ventanaEmergente.focus();
            } else {
                alert("[ERROR]: La ventana no está abierta");
            }
        }
        //////////
        //
        function aumetarVentana() {
            if (ventanaEmergente && !ventanaEmergente.closed) {
                const nuevaAltura = ventanaEmergente.innerHeight + 50;
                const nuevaAnchura = ventanaEmergente.innerWidth + 50;
                
                ventanaEmergente.resizeBy(nuevaAnchura, nuevaAltura);
                ventanaEmergente.focus();
            } else {
                alert("[ERROR]: La ventana no está abierta");
            }
        }

        //////////
        //Comprobar que navegador se está usando
        function getNavegador() {
            const navegador = window.navigator.userAgent;
            if (navegador.includes("Chrome")) {
                return "Google Chrome";
            } else if (navegador.includes("Firefox")) {
                return "Mozilla Firefox";
            } else if (navegador.includes("Safari")) {
                return "Apple Safari";
            } else if (navegador.includes("Edge")) {
                return "Microsoft Edge";
            } else {
                return "Navegador Descoñecido";
            }
        }
        //////////
        //Verifica si Java está disponible
        function comprobarJava() {
            return navigator.javaEnabled() ? "Sí" : "Non";
        }


    </script>
    </head>
    <body>
        <h1>Ejercicio ventanas</h1>
        <button onclick="abrirVentana()">Abrir Ventana</button>
        <button onclick="cerrarVentana()">Cerrar Ventana</button>
        <button onclick="moverBy()">moverBy</button>
        <button onclick="moverTo()">moverTo</button>
        <button onclick="redimensionarVentana()">Redimensionar Ventana</button>
        <button onclick="aumetarVentana()">Aumetar Ventana</button>
    </body>
</html>